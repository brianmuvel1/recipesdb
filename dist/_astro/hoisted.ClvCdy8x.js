import"./Layout.astro_astro_type_script_index_0_lang.BzHAMJTp.js";const r=document.getElementById("recipeFileForm"),a=document.getElementById("recipeJsonForm"),i=document.getElementById("fileMessage"),c=document.getElementById("jsonMessage");function s(e,o,t){e&&(e.textContent=t,e.className=`mt-4 text-center p-4 rounded-md ${o?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,e.classList.remove("hidden"))}r?.addEventListener("submit",async e=>{e.preventDefault();try{const o=new FormData(r),t=await fetch("/api/upload",{method:"POST",body:o}),n=await t.json();s(i,t.ok,n.message),t.ok&&r.reset()}catch{s(i,!1,"An error occurred while uploading the file.")}});a?.addEventListener("submit",async e=>{e.preventDefault();try{const t=new FormData(a).get("jsonContent");try{JSON.parse(t)}catch{s(c,!1,"Invalid JSON format");return}const n=await fetch("/api/upload-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})}),d=await n.json();s(c,n.ok,d.message),n.ok&&a.reset()}catch{s(c,!1,"An error occurred while uploading the JSON content.")}});
